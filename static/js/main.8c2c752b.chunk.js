(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(23),i=(n(36),n(2)),s=n(13),d=n(6),u=n(46);function o(e,t){var n=Object(c.useState)((function(){var n=localStorage.getItem(e);return null!=n?JSON.parse(n):"function"===typeof t?t():t})),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[e,a]),[a,i]}var l=n(1),j=r.a.createContext(),b="Uncategorized";function m(){return Object(c.useContext)(j)}var x=function(e){var t=e.children,n=o("budgets",[]),c=Object(d.a)(n,2),r=c[0],a=c[1],m=o("expenses",[]),x=Object(d.a)(m,2),O=x[0],f=x[1];return Object(l.jsx)(j.Provider,{value:{budgets:r,expenses:O,getBudgetExpenses:function(e){return O.filter((function(t){return t.budgetId===e}))},addExpense:function(e){var t=e.description,n=e.amount,c=e.budgetId;f((function(e){return[].concat(Object(s.a)(e),[{id:Object(u.a)(),description:t,amount:n,budgetId:c}])}))},addBudget:function(e){var t=e.name,n=e.max;a((function(e){return e.find((function(e){return e.name===t}))?e:[].concat(Object(s.a)(e),[{id:Object(u.a)(),name:t,max:n}])}))},deleteBudget:function(e){var t=e.id;f((function(e){return e.map((function(e){return e.budgetId!==t?e:Object(i.a)(Object(i.a)({},e),{},{budgetId:b})}))})),a((function(e){return e.filter((function(e){return e.id!==t}))}))},deleteExpense:function(e){var t=e.id;f((function(e){return e.filter((function(e){return e.id!==t}))}))}},children:t})},O=n(49),f=n(48),h=n(28),p=n(44),g=n(45);function v(e){var t=e.show,n=e.handleClose,r=Object(c.useRef)(),a=Object(c.useRef)(),i=m().addBudget;return Object(l.jsx)(p.a,{show:t,onHide:n,children:Object(l.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),i({name:r.current.value,max:parseFloat(a.current.value)}),n()},children:[Object(l.jsx)(p.a.Header,{closeButton:!0,children:Object(l.jsx)(p.a.Title,{children:"New Budget"})}),Object(l.jsxs)(p.a.Body,{children:[Object(l.jsxs)(g.a.Group,{className:"mb-3",controlId:"name",children:[Object(l.jsx)(g.a.Label,{children:"Name"}),Object(l.jsx)(g.a.Control,{ref:r,type:"text",required:!0})]}),Object(l.jsxs)(g.a.Group,{className:"mb-3",controlId:"max",children:[Object(l.jsx)(g.a.Label,{children:"Maximum Spending"}),Object(l.jsx)(g.a.Control,{ref:a,type:"number",required:!0,min:0,step:.01})]}),Object(l.jsx)("div",{className:"d-flex justify-content-end",children:Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Add"})})]})]})})}function y(e){var t=e.show,n=e.handleClose,r=e.defaultBudgetId,a=Object(c.useRef)(),i=Object(c.useRef)(),s=Object(c.useRef)(),d=m(),u=d.addExpense,o=d.budgets;return Object(l.jsx)(p.a,{show:t,onHide:n,children:Object(l.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),u({description:a.current.value,amount:parseFloat(i.current.value),budgetId:s.current.value}),n()},children:[Object(l.jsx)(p.a.Header,{closeButton:!0,children:Object(l.jsx)(p.a.Title,{children:"New Expense"})}),Object(l.jsxs)(p.a.Body,{children:[Object(l.jsxs)(g.a.Group,{className:"mb-3",controlId:"description",children:[Object(l.jsx)(g.a.Label,{children:"Name"}),Object(l.jsx)(g.a.Control,{ref:a,type:"text",required:!0})]}),Object(l.jsxs)(g.a.Group,{className:"mb-3",controlId:"amount",children:[Object(l.jsx)(g.a.Label,{children:"Amount"}),Object(l.jsx)(g.a.Control,{ref:i,type:"number",required:!0,min:0,step:.01})]}),Object(l.jsxs)(g.a.Group,{className:"mb-3",controlId:"budgetId",children:[Object(l.jsx)(g.a.Label,{children:"Type"}),Object(l.jsxs)(g.a.Select,{defaultValue:r,ref:s,children:[Object(l.jsx)("option",{id:b,children:"uncategorized"}),o.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(l.jsx)("div",{className:"d-flex justify-content-end",children:Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Add"})})]})]})})}var N=new Intl.NumberFormat(void 0,{currency:"INR",style:"currency",minimumFractionDigits:0});function C(e){var t=e.budgetId,n=e.handleClose,c=m(),r=c.getBudgetExpenses,a=c.budgets,i=c.deleteBudget,s=c.deleteExpense,d=r(t),u=b===t?{name:"Uncategorized",id:b}:a.find((function(e){return e.id===t}));return Object(l.jsxs)(p.a,{show:null!=t,onHide:n,children:[Object(l.jsx)(p.a.Header,{closeButton:!0,children:Object(l.jsx)(p.a.Title,{children:Object(l.jsxs)(O.a,{direction:"horizontal",gap:"2",children:[Object(l.jsxs)("div",{children:["Expenses - ",null===u||void 0===u?void 0:u.name]}),t!==b&&Object(l.jsx)(f.a,{onClick:function(){i(u),n()},variant:"outline-danger",children:"Delete"})]})})}),Object(l.jsx)(p.a.Body,{children:Object(l.jsx)(O.a,{direction:"vertical",gap:"3",children:d.map((function(e){return Object(l.jsxs)(O.a,{direction:"horizontal",gap:"2",children:[Object(l.jsx)("div",{className:"me-auto fs-4",children:e.description}),Object(l.jsx)("div",{className:"fs-5",children:N.format(e.amount)}),Object(l.jsx)(f.a,{onClick:function(){return s(e)},size:"sm",variant:"outline-danger",children:"\xd7"})]},e.id)}))})})]})}var B=n(47),I=n(43);function E(e){var t=e.name,n=e.amount,c=e.max,r=e.gray,a=e.hideButtons,i=e.onAddExpenseClick,s=e.onViewExpensesClick,d=[];return n>c?d.push("bg-danger","bg-opacity-10"):r&&d.push("bg-light"),Object(l.jsx)(B.a,{className:d.join(" "),children:Object(l.jsxs)(B.a.Body,{children:[Object(l.jsxs)(B.a.Title,{className:"d-flex justify-content-between align-items-baseline fw-normal mb-3",children:[Object(l.jsx)("div",{className:"me-2",children:t}),Object(l.jsxs)("div",{className:"d-flex align-items-baseline",children:[N.format(n),c&&Object(l.jsxs)("span",{className:"text-muted fs-6 ms-1",children:["/ ",N.format(c)]})]})]}),c&&Object(l.jsx)(I.a,{className:"rounded-pill",variant:w(n,c),min:0,max:c,now:n}),!a&&Object(l.jsxs)(O.a,{direction:"horizontal",gap:"2",className:"mt-4",children:[Object(l.jsx)(f.a,{variant:"outline-primary",className:"ms-auto",onClick:i,children:"Add Expense"}),Object(l.jsx)(f.a,{onClick:s,variant:"outline-secondary",children:"View Expenses"})]})]})})}function w(e,t){var n=e/t;return n<.5?"primary":n<.75?"warning":"danger"}function k(e){var t=(0,m().getBudgetExpenses)(b).reduce((function(e,t){return e+t.amount}),0);return 0===t?null:Object(l.jsx)(E,Object(i.a)({amount:t,name:"Uncategorized",gray:!0},e))}function S(){var e=m(),t=e.expenses,n=e.budgets,c=t.reduce((function(e,t){return e+t.amount}),0),r=n.reduce((function(e,t){return e+t.max}),0);return 0===r?null:Object(l.jsx)(E,{amount:c,name:"Total",gray:!0,max:r,hideButtons:!0})}var z=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(d.a)(a,2),s=i[0],u=i[1],o=Object(c.useState)(),j=Object(d.a)(o,2),x=j[0],p=j[1],g=Object(c.useState)(),N=Object(d.a)(g,2),B=N[0],I=N[1],w=m(),z=w.budgets,A=w.getBudgetExpenses;function R(e){u(!0),I(e)}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(h.a,{className:"my-4",children:[Object(l.jsxs)(O.a,{direction:"horizontal",gap:"2",className:"mb-4",children:[Object(l.jsx)("h1",{className:"me-auto",children:"Budgets"}),Object(l.jsx)(f.a,{variant:"primary",onClick:function(){return r(!0)},children:"Add Budget"}),Object(l.jsx)(f.a,{variant:"outline-primary",onClick:R,children:"Add Expense"})]}),Object(l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem",alignItems:"flex-start"},children:[z.map((function(e){var t=A(e.id).reduce((function(e,t){return e+t.amount}),0);return Object(l.jsx)(E,{name:e.name,amount:t,max:e.max,onAddExpenseClick:function(){return R(e.id)},onViewExpensesClick:function(){return p(e.id)}},e.id)})),Object(l.jsx)(k,{onAddExpenseClick:R,onViewExpensesClick:function(){return p(b)}}),Object(l.jsx)(S,{})]})]}),Object(l.jsx)(v,{show:n,handleClose:function(){return r(!1)}}),Object(l.jsx)(y,{show:s,defaultBudgetId:B,handleClose:function(){return u(!1)}}),Object(l.jsx)(C,{budgetId:x,handleClose:function(){return p()}})]})},A=document.getElementById("root");Object(a.createRoot)(A).render(Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(x,{children:Object(l.jsx)(z,{})})}))}},[[40,1,2]]]);
//# sourceMappingURL=main.8c2c752b.chunk.js.map